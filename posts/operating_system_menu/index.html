<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>操作系统知识架构 | Jieker's Blog</title><meta name="description" content="操作系统知识架构   概述 没有任何软件支持的计算机成为裸机。在裸机上安装的操作系统，可以提供资源管理功能和方便用户的服务功能，将裸机改造成功能更强、使用更方便的机器。通常把覆盖了软件的机器称为扩充机器，又称之为虚拟机。计算机层次系统结构如下：   什么是操作系统 操作系统（Operating System，OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源的"><meta name="keywords" content="操作系统"><meta name="author" content="Zhang Junjie"><meta name="copyright" content="Zhang Junjie"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="/url(https:/jie-blog.icu/img/Log.png)"><link rel="canonical" href="https://jie-blog.icu/posts/operating_system_menu/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta property="og:type" content="article"><meta property="og:title" content="操作系统知识架构"><meta property="og:url" content="https://jie-blog.icu/posts/operating_system_menu/"><meta property="og:site_name" content="Jieker's Blog"><meta property="og:description" content="操作系统知识架构   概述 没有任何软件支持的计算机成为裸机。在裸机上安装的操作系统，可以提供资源管理功能和方便用户的服务功能，将裸机改造成功能更强、使用更方便的机器。通常把覆盖了软件的机器称为扩充机器，又称之为虚拟机。计算机层次系统结构如下：   什么是操作系统 操作系统（Operating System，OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源的"><meta property="og:image" content="https://jie-blog.icu/img/Operating_System/system.png"><meta property="article:published_time" content="2020-09-15T11:13:02.000Z"><meta property="article:modified_time" content="2020-09-15T11:26:59.453Z"><meta name="twitter:card" content="summary"><link rel="manifest" href="/image/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/image/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/image/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/image/pwa/16.png"><link rel="mask-icon" href="/image/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"",enable_page_level_ads:"true"})</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.1.1',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime: '',
  date_suffix: {"one_hour":"刚刚","hours":"小时前","day":"天前"},
  copyright: {"limitCount":50,"languages":{"author":"Jieker: Zhang Junjie","link":"链接: ","source":"来源: Jieker's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
      const now = new Date()
      const expiryDay = ttl * 86400000
      const item = {
        value: value,
        expiry: now.getTime() + expiryDay,
      }
      localStorage.setItem(key, JSON.stringify(item))
    },
  
  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!0,isSidebar:!0,postUpdate:"2020-09-15 19:26:59"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}</style></noscript><script>var activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")},autoChangeMode="false",t=saveToLocal.get("theme");if("1"===autoChangeMode){var isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,isLightMode=window.matchMedia("(prefers-color-scheme: light)").matches,isNotSpecified=window.matchMedia("(prefers-color-scheme: no-preference)").matches,hasNoSupport=!isDarkMode&&!isLightMode&&!isNotSpecified;if(void 0===t){if(isLightMode)activateLightMode();else if(isDarkMode)activateDarkMode();else if(isNotSpecified||hasNoSupport){var now=new Date,hour=now.getHours(),isNight=hour<=6||18<=hour;isNight?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())})}else"light"===t?activateLightMode():activateDarkMode()}else"2"===autoChangeMode?(isNight=(hour=(now=new Date).getHours())<=6||18<=hour,void 0===t?isNight?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode()):"dark"===t?activateDarkMode():"light"===t&&activateLightMode()</script><script src="/js/daovoice.js"></script><link rel="stylesheet" href="footer.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="Jieker's Blog" type="application/atom+xml"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="./img/loading.gif" data-original="/img/picture.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">64</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">16</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i> <span>Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i> <span>About</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86%E6%9E%B6%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">操作系统知识架构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.1.</span> <span class="toc-text">什么是操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">2.2.</span> <span class="toc-text">应用执行流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%80%9D%E6%83%B3"><span class="toc-number">2.3.</span> <span class="toc-text">操作系统思想</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#gui"><span class="toc-number">2.3.1.</span> <span class="toc-text">GUI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.3.2.</span> <span class="toc-text">程序接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E6%9C%BA%E5%91%BD%E4%BB%A4%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.3.3.</span> <span class="toc-text">联机命令接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%B1%E6%9C%BA%E5%91%BD%E4%BB%A4%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.3.4.</span> <span class="toc-text">脱机命令接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9B%9B%E4%B8%AA%E7%89%B9%E5%BE%81"><span class="toc-number">3.</span> <span class="toc-text">操作系统的四个特征</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91"><span class="toc-number">3.1.</span> <span class="toc-text">并发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB"><span class="toc-number">3.2.</span> <span class="toc-text">共享</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">两种资源共享方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%92%E6%96%A5%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">互斥共享方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">同时共享方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%92%8C%E5%85%B1%E4%BA%AB%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">3.3.</span> <span class="toc-text">并发和共享的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.3.1.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F"><span class="toc-number">3.4.</span> <span class="toc-text">虚拟</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%8A%80%E6%9C%AF"><span class="toc-number">3.4.1.</span> <span class="toc-text">虚拟技术</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5"><span class="toc-number">3.5.</span> <span class="toc-text">异步</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%91%E5%B1%95%E4%B8%8E%E5%88%86%E7%B1%BB"><span class="toc-number">4.</span> <span class="toc-text">发展与分类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5%E6%93%8D%E4%BD%9C%E9%98%B6%E6%AE%B5"><span class="toc-number">4.1.</span> <span class="toc-text">手工操作阶段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.2.</span> <span class="toc-text">单道批处理系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.3.</span> <span class="toc-text">多道批处理系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.4.</span> <span class="toc-text">分时操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.5.</span> <span class="toc-text">实时操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.6.</span> <span class="toc-text">其他操作系统</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">5.</span> <span class="toc-text">操作系统的运行机制与体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8C%87%E4%BB%A4"><span class="toc-number">5.1.</span> <span class="toc-text">什么是指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">5.2.</span> <span class="toc-text">运行机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%8C%87%E4%BB%A4"><span class="toc-number">5.2.1.</span> <span class="toc-text">两种指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%A4%84%E7%90%86%E5%99%A8%E7%8A%B6%E6%80%81"><span class="toc-number">5.2.2.</span> <span class="toc-text">两种处理器状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E7%A8%8B%E5%BA%8F"><span class="toc-number">5.2.3.</span> <span class="toc-text">两种程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%86%85%E6%A0%B8"><span class="toc-number">5.3.</span> <span class="toc-text">操作系统内核</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%92%8C%E5%BC%82%E5%B8%B8"><span class="toc-number">6.</span> <span class="toc-text">中断和异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text">中断的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.</span> <span class="toc-text">中断的类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E4%B8%AD%E6%96%AD"><span class="toc-number">6.2.1.</span> <span class="toc-text">内中断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E4%B8%AD%E6%96%AD"><span class="toc-number">6.2.2.</span> <span class="toc-text">外中断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#io%E4%B8%AD%E6%96%AD"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">IO中断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E4%B8%AD%E6%96%AD"><span class="toc-number">6.2.2.2.</span> <span class="toc-text">时钟中断</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">6.3.</span> <span class="toc-text">中断的原理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">7.</span> <span class="toc-text">系统调用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">7.1.</span> <span class="toc-text">什么是系统调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E4%B8%8E%E5%BA%93%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.2.</span> <span class="toc-text">系统调用与库函数的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E5%8A%9F%E8%83%BD%E8%A6%81%E7%94%A8%E5%88%B0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">7.3.</span> <span class="toc-text">什么功能要用到系统调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">7.4.</span> <span class="toc-text">系统调用的过程</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">8.</span> <span class="toc-text">操作系统的体系结构</span></a></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image:url(https://jie-blog.icu/img/Operating_System/system.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jieker's Blog</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i> <span>Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i> <span>Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i> <span>Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i> <span>Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i> <span>About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">操作系统知识架构</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-15T11:13:02.000Z" title="发表于 2020-09-15 19:13:02">2020-09-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-09-15T11:26:59.453Z" title="更新于 2020-09-15 19:26:59">2020-09-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="操作系统知识架构"><a class="markdownIt-Anchor" href="#操作系统知识架构"></a> 操作系统知识架构</h1><p><a name="mFKlG"></a></p><h1 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h1><p>没有任何软件支持的计算机成为裸机。在裸机上安装的操作系统，可以提供资源管理功能和方便用户的服务功能，将裸机改造成功能更强、使用更方便的机器。<br>通常把覆盖了软件的机器称为扩充机器，又称之为虚拟机。<br>计算机层次系统结构如下：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599131411000-7999c6a8-518a-406e-8971-8b9d011d1de3.png#align=left&amp;display=inline&amp;height=266&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=337&amp;originWidth=768&amp;size=81369&amp;status=done&amp;style=none&amp;width=606" alt="image.png"><br><a name="LVXiU"></a></p><h2 id="什么是操作系统"><a class="markdownIt-Anchor" href="#什么是操作系统"></a> 什么是操作系统</h2><p>操作系统（Operating System，OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源的分配以提供给用户和其他软件方便的接口和环境，它是计算机系统中最基本的系统软件。<br>如下图是操作系统提供最直观查看系统状态的界面：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599132523924-6ec283d0-8524-4792-a8cc-b8daaecf6a28.png#align=left&amp;display=inline&amp;height=209&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=417&amp;originWidth=1083&amp;size=76371&amp;status=done&amp;style=none&amp;width=541.5" alt="image.png"><br>凸显出下述结构：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599132542874-7c95821e-7462-4d7c-a56e-5cf320267610.png#align=left&amp;display=inline&amp;height=265&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=311&amp;originWidth=334&amp;size=35165&amp;status=done&amp;style=none&amp;width=285" alt="image.png"><br><a name="svFXr"></a></p><h2 id="应用执行流程"><a class="markdownIt-Anchor" href="#应用执行流程"></a> 应用执行流程</h2><p>注意：执行一个程序前需要将该程序放到内存中，才能被CPU处理。<br>以QQ为例，我们日常启动的都是QQ的链接（快捷方式），对应启动的是其对应安装目录下的QQ.exe。</p><ul><li>在启动的过程中，需要把关键数据放入内存。</li><li>正常运行的时候，其对应的进程被处理器（CPU）处理。</li><li>再开始视频通话时，将摄像头设备分配给进程然后给CPU处理。<br><a name="mGMet"></a></li></ul><h2 id="操作系统思想"><a class="markdownIt-Anchor" href="#操作系统思想"></a> 操作系统思想</h2><p>操作系统把一些复杂的硬件功能封装成简单易用的服务，使用户能更方便地使用计算机，用户无需关心底层硬件的原理，只需要对操作系统发出命令即可。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599134817856-c34446b9-bc75-4109-b650-9e3f77ff4150.png#align=left&amp;display=inline&amp;height=314&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=628&amp;originWidth=1522&amp;size=178929&amp;status=done&amp;style=none&amp;width=761" alt="image.png"><br><a name="1Dhwq"></a></p><h3 id="gui"><a class="markdownIt-Anchor" href="#gui"></a> GUI</h3><p>GUI即图形化用户接口（Graphical User Interface） 用户可以使用形象的图形界面进行操作，而不再需要记忆复杂的命令、参数。 例子：在 Windows 操作系统中，删除一个文件只需要把文件“拖拽”到回收站即可。<br><a name="zTriI"></a></p><h3 id="程序接口"><a class="markdownIt-Anchor" href="#程序接口"></a> 程序接口</h3><p>可以在程序中进行系统调用来使用程序接口。普通用户不能直接使用程序接口，只能通过程序代码间接使用。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599134746278-e52a7609-5351-4d6f-86a6-acd6bf539146.png#align=left&amp;display=inline&amp;height=266&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=532&amp;originWidth=1279&amp;size=174416&amp;status=done&amp;style=none&amp;width=639.5" alt="image.png"><br><a name="IXxO7"></a></p><h3 id="联机命令接口"><a class="markdownIt-Anchor" href="#联机命令接口"></a> 联机命令接口</h3><p>联机命令接口实例（Windows系统） 联机命令接口=交互式命令接口，其特点是用户说一句， 系统跟着做一句。<br><a name="5sA0P"></a></p><h3 id="脱机命令接口"><a class="markdownIt-Anchor" href="#脱机命令接口"></a> 脱机命令接口</h3><p>脱机命令接口实例（Windows系统） 脱机命令接口=批处理命令接口。以windows为例使用windows系统的搜索功能，搜索C盘中的 *.bat文件，用记事本任意打开一个，如下图所示：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599134583288-e51711b4-2b4b-4f74-9119-5d712909ad59.png#align=left&amp;display=inline&amp;height=232&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=341&amp;originWidth=738&amp;size=137660&amp;status=done&amp;style=none&amp;width=502" alt="image.png"><br>其特点是：用户说一堆， 系统跟着做一堆。<br><a name="Ohf15"></a></p><h1 id="操作系统的四个特征"><a class="markdownIt-Anchor" href="#操作系统的四个特征"></a> 操作系统的四个特征</h1><p>操作系统的四个特征如下图：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599143509856-bcec4f28-7b7f-41d1-8baa-091932bea30b.png#align=left&amp;display=inline&amp;height=197&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=395&amp;originWidth=1228&amp;size=96440&amp;status=done&amp;style=none&amp;width=614" alt="image.png"><br><a name="DckcY"></a></p><h2 id="并发"><a class="markdownIt-Anchor" href="#并发"></a> 并发</h2><p>指两个或多个事件在同一时间间隔内发生。这些事件宏观上是同时发生的，但微观上是交替发生的。 （并行：指两个或多个事件在同一时刻同时发生）<br>操作系统的并发性指计算机系统中“同时”运行着多个程序，这些程序宏观上看是同时运行着的，而微观上看是交替运行的。 操作系统就是伴随着“多道程序技术”而出现的。因此，操作系统和程序并发是一起诞生的。<br><a name="305aQ"></a></p><h2 id="共享"><a class="markdownIt-Anchor" href="#共享"></a> 共享</h2><p>共享即资源共享，是指系统中的资源可供内存中多个并发执行的进程共同使用。<br><a name="Jk5N8"></a></p><h3 id="两种资源共享方式"><a class="markdownIt-Anchor" href="#两种资源共享方式"></a> 两种资源共享方式</h3><p>所谓的“同时”往往是宏观上的，而在微观上，这些进程可能是交替地对该资源进行访问的（即分时共享）。<br><a name="3gkU8"></a></p><h4 id="互斥共享方式"><a class="markdownIt-Anchor" href="#互斥共享方式"></a> 互斥共享方式</h4><p>系统中的某些资源，虽然可以提供给多个进程使用，但一个时间段内只允 许一个进程访问该资源<br>举例：<br>使用QQ和微信视频。同一时间段内摄像头只能分配给其中一个进程。<br><a name="Lf98S"></a></p><h4 id="同时共享方式"><a class="markdownIt-Anchor" href="#同时共享方式"></a> 同时共享方式</h4><p>系统中的某些资源，允许一个时间段内由多个进程“同时”对它们进行访问。<br>举例：<br>使用QQ发送文件A，同时使用微信发送文件B。宏观上看，两边都在同时读取并发送文件，说明两个进程都在访问硬盘资源，从中读取数据。微观上看，两个进程是交替着访问硬盘的。<br><a name="HTWgk"></a></p><h2 id="并发和共享的关系"><a class="markdownIt-Anchor" href="#并发和共享的关系"></a> 并发和共享的关系</h2><p>并发性指计算机系统中同时存在着多个运行着的程序。<br>共享性是指系统中的资源可供内存中多个并发执行的进程共同使用。<br>通过上述例子来看并发与共享的关系：<br>使用QQ发送文件A，同时使用微信发送文件B。</p><ul><li>两个进程正在并发执行（并发性）</li><li>需要共享地访问硬盘资源（共享性）<br><a name="kBGGc"></a></li></ul><h3 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h3><p>如果失去并发性，则系统中只有一个 程序正在运行，则共享性失去存在的意义。<br>如果失去共享性，则QQ和微信不能同时访问硬盘资源，就无法实现同时发 送文件，也就无法并发。<br>因此，并发性和共享性互为表里，密不可分。<br><a name="EG3qc"></a></p><h2 id="虚拟"><a class="markdownIt-Anchor" href="#虚拟"></a> 虚拟</h2><p>虚拟是指把一个物理上的实体变为若干个逻辑上的对应物。物理实体（前者）是实际存在的，而逻辑上对应物（后者）是用户感受到的。<br><a name="7ufr0"></a></p><h3 id="虚拟技术"><a class="markdownIt-Anchor" href="#虚拟技术"></a> 虚拟技术</h3><p><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599145651315-d85a309c-275c-4e77-9915-cabaadd67373.png#align=left&amp;display=inline&amp;height=90&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=116&amp;originWidth=617&amp;size=45680&amp;status=done&amp;style=none&amp;width=480" alt="image.png"><br>知识背景：一个程序需要放入内存并给它分配CPU才能执行。<br>虚拟技术中的“时分复用技术”。微观上处理机在各个微小的时间段内交替着为各个进程服务。因此我们即使有单核CPU也可以在计算机中同时开启多个软件，好像有多个CPU为我们工作一样。<br>因为虚拟技术中的“空分复用技术”，因此我们可以在系统中打开多个软件即使软件的内存和远远大于我们的计算机内存。<br>显然，如果失去了并发性，则一个时间段内系统中只需运行一道程序，那么就失去了实现虚拟性的意义了。因此，没有并发性，就谈不上虚拟性<br><a name="XwxrR"></a></p><h2 id="异步"><a class="markdownIt-Anchor" href="#异步"></a> 异步</h2><p>异步是指在多道程序环境下，允许多个程序并发执行，但由于资源有限，进程的执行不是一贯到底的， 而是走走停停，以不可预知的速度向前推进，这就是进程的异步性。<br>如果失去了并发性，即系统只能串行地运行各个程序，那么每个程序的执行会一贯到底。只有系统拥有并发性，才有可能导致异步性。<br><a name="dMcco"></a></p><h1 id="发展与分类"><a class="markdownIt-Anchor" href="#发展与分类"></a> 发展与分类</h1><p>OS的发展分类如下图：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599177929314-7f509fc1-c15d-49df-9d01-610616a65b9f.png#align=left&amp;display=inline&amp;height=280&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=459&amp;originWidth=939&amp;size=124782&amp;status=done&amp;style=none&amp;width=573" alt="image.png"><br><a name="9gPDT"></a></p><h2 id="手工操作阶段"><a class="markdownIt-Anchor" href="#手工操作阶段"></a> 手工操作阶段</h2><p>该阶段流程是人工打卡带，将卡带插入计算机，然后计算机读卡带并输出卡带，然后人工分析卡带，这就是知名的图灵机。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599178069989-9d4b109d-bccb-4b39-bf86-3062583cb3b2.png#align=left&amp;display=inline&amp;height=227&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=392&amp;originWidth=1239&amp;size=74257&amp;status=done&amp;style=none&amp;width=719" alt="image.png"><br><a name="QDwOP"></a></p><h2 id="单道批处理系统"><a class="markdownIt-Anchor" href="#单道批处理系统"></a> 单道批处理系统</h2><p>该阶段引入脱机输入/输出技术（用外围机+磁带完成），并由监督程序负责控制作业的输入、输出。通过外围机把程序提前存到磁带里，磁带的读/写速度比纸带机快很多，这样缓解了一定 程度的人机速度矛盾， 资源利用率有所提升。<br>但是内存中仅能有一道程序运行，只有 该程序运行结束之后才能调入下一道程序。CPU有大量的时间是在空闲等待I/O完成。资源利用率依然很低。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599178305773-212592c0-498d-4052-91b3-98f5a6405147.png#align=left&amp;display=inline&amp;height=203&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=353&amp;originWidth=1213&amp;size=48569&amp;status=done&amp;style=none&amp;width=696" alt="image.png"><br><a name="FkayP"></a></p><h2 id="多道批处理系统"><a class="markdownIt-Anchor" href="#多道批处理系统"></a> 多道批处理系统</h2><p>该阶段每次往内存中读入多道程序，操作系统正式诞生，用于支持多道程序并发运行。该阶段多道程序并发执行，共享计算机资源。资源利用率大幅提升，CPU和其他资源更能保持“忙碌”状态，系统吞吐量增大。但是用户响应时间长，没有人机交互功能（用户提交自己的作业之后就只能等待计算机处理完成，中间不能控制自己的作业执行。eg：无法调试程序/无法在程序运行过 程中输入一些参数）<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599178429555-e3e3c9f6-00f3-4053-be89-6b6f387e6f76.png#align=left&amp;display=inline&amp;height=363&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=363&amp;originWidth=621&amp;size=36333&amp;status=done&amp;style=none&amp;width=621" alt="image.png"><br><a name="rCREH"></a></p><h2 id="分时操作系统"><a class="markdownIt-Anchor" href="#分时操作系统"></a> 分时操作系统</h2><p>计算机以时间片为单位轮流为各个用户/作业服务，各个用户可通过终端与计算机进行交互。<br>主要优点：用户请求可以被即时响应，解决了人机交互问题。允许多个用户同时使用一台计算机，并且用户对计算机的操作相互独立，感受不到别人的存在。但是不能优先处理一些紧急任务。操作系统对各个用户/作业都是完全公平的，循环地为每个用户/ 作业服务一个时间片，不区分任务的紧急性。<br><a name="1tECG"></a></p><h2 id="实时操作系统"><a class="markdownIt-Anchor" href="#实时操作系统"></a> 实时操作系统</h2><p>实时系统又分为硬实时操作系统和软实时操作系统。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599178560715-4eefb349-f77b-4f1f-9313-363dd5a3a58f.png#align=left&amp;display=inline&amp;height=242&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=372&amp;originWidth=1014&amp;size=92212&amp;status=done&amp;style=none&amp;width=659" alt="image.png"><br>主要优点：能够优先响应一些紧急任务，某些紧急任务不需时间片排队。在实时操作系统的控制下，计算机系统接收到外部信号后及时进行处理，并且要在严格的时限内处理完事件。实时操作系统的主要特点是及时性和可靠性。<br><a name="zJJWd"></a></p><h2 id="其他操作系统"><a class="markdownIt-Anchor" href="#其他操作系统"></a> 其他操作系统</h2><ul><li>网络操作系统：是伴随着计算机网络的发展而诞生的，能把网络中各个计算机有机地结合起来，实现数据传送等功能，实现网络中各种资源的共享（如文件共享）和各台计算机之间的通信。（如：Windows NT 就是 一种典型的网络操作系统，网站服务器就可以使用）</li><li>分布式操作系统：主要特点是分布性和并行性。系统中的各台计算机地位相同，任何工作都可以分布在这些 计算机上，由它们并行、协同完成这个任务。</li><li>个人计算机操作系统：如 Windows XP、MacOS，方便个人使用。<br><a name="vegnO"></a></li></ul><h1 id="操作系统的运行机制与体系结构"><a class="markdownIt-Anchor" href="#操作系统的运行机制与体系结构"></a> 操作系统的运行机制与体系结构</h1><p>操作系统的运行机制与体系结构核心内容如下：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599180272445-3062ffce-6580-43fd-ad55-4b708b49043d.png#align=left&amp;display=inline&amp;height=498&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=597&amp;originWidth=956&amp;size=119836&amp;status=done&amp;style=none&amp;width=798" alt="image.png"><br><a name="tvybB"></a></p><h2 id="什么是指令"><a class="markdownIt-Anchor" href="#什么是指令"></a> 什么是指令</h2><p>由于机器的语言的可读性很差，因此为了增强可读性，人们使用助记符的方式表示各个指令（汇编语言），例如第一条数据转移指令可记为MOV AX,[4FH]，第二条加法指令可记为ADD AX,1。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599179036328-9f9145d5-7a99-4a16-a768-b2782dc8933c.png#align=left&amp;display=inline&amp;height=277&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=417&amp;originWidth=1014&amp;size=106969&amp;status=done&amp;style=none&amp;width=673" alt="image.png"><br>指令就是CPU（处理器）能识别的最基本的命令，比如让CPU执行加减法。<br><a name="EaJ4m"></a></p><h2 id="运行机制"><a class="markdownIt-Anchor" href="#运行机制"></a> 运行机制</h2><p><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599179746467-1c093286-25b3-44f6-bbab-77f693b2ca7a.png#align=left&amp;display=inline&amp;height=236&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=293&amp;originWidth=714&amp;size=61618&amp;status=done&amp;style=none&amp;width=574" alt="image.png"><br><a name="JOssX"></a></p><h3 id="两种指令"><a class="markdownIt-Anchor" href="#两种指令"></a> 两种指令</h3><p>指令拥有以下两种指令：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599178837730-f09770d0-bf9f-4cb5-92df-5110c46a37cb.png#align=left&amp;display=inline&amp;height=161&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=196&amp;originWidth=709&amp;size=38232&amp;status=done&amp;style=none&amp;width=581" alt="image.png"><br>非特权指令是“人畜无害”的，用户程序可以随意使用，而非特权指令会十分危险，因此不会允许用户程序使用。<br><a name="W5Nv8"></a></p><h3 id="两种处理器状态"><a class="markdownIt-Anchor" href="#两种处理器状态"></a> 两种处理器状态</h3><p>处理器拥有两种状态，一个是用户态（目态），另一个是核心态（管态）。<br>用程序状态字寄存器（PSW）中的某标志位来表示当前处理器处于什么状态，如0为用户态，1为核心态。<br>用户态只能执行非特权指令，核心态既可以执行非特权指令也可以执行特权指令。<br><a name="PK940"></a></p><h3 id="两种程序"><a class="markdownIt-Anchor" href="#两种程序"></a> 两种程序</h3><p>操作系统中的程序分为两种程序，一种是内核程序，另一种是普通的应用程序。<br>操作系统中的内核程序是系统的管理者，既可以执行特权指令也可以执行非特权指令运行在核心态。<br>为了保证系统能安全地运行，普通应用程序只能执行非特权指令运行在用户态。<br><a name="faW7K"></a></p><h2 id="操作系统内核"><a class="markdownIt-Anchor" href="#操作系统内核"></a> 操作系统内核</h2><p>系统的内核结构如图：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599179852278-b60e4f41-e18f-463a-a717-7487b5e990e5.png#align=left&amp;display=inline&amp;height=309&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=509&amp;originWidth=1458&amp;size=152816&amp;status=done&amp;style=none&amp;width=886" alt="image.png"><br>内核使计算机上配置的底层软件，是操作系统最基本最核心的部分，实现操作系统内核功能的程序就是内核程序。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599179975201-1caf364d-714a-47af-88ef-a0e80095eba4.png#align=left&amp;display=inline&amp;height=283&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=383&amp;originWidth=935&amp;size=170337&amp;status=done&amp;style=none&amp;width=691" alt="image.png"><br>因为对系统资源管理的功能有时候不会被划分为内核功能，因此我们可以再次划分内核为大内核和微内核：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599180061039-ee192300-0023-4b1a-912b-9055f76bd953.png#align=left&amp;display=inline&amp;height=385&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=524&amp;originWidth=895&amp;size=97781&amp;status=done&amp;style=none&amp;width=658" alt="image.png"><br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599180098785-294463d5-246d-4353-b886-f35eb471cde9.png#align=left&amp;display=inline&amp;height=229&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=301&amp;originWidth=1095&amp;size=149354&amp;status=done&amp;style=none&amp;width=832" alt="image.png"><br><br><br></p><p><a name="3D4Ij"></a></p><h1 id="中断和异常"><a class="markdownIt-Anchor" href="#中断和异常"></a> 中断和异常</h1><p>中断和异常的知识体系如下图：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599180219559-33b71d2c-2283-48e7-9d8c-cb5955f3f909.png#align=left&amp;display=inline&amp;height=147&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=293&amp;originWidth=878&amp;size=45295&amp;status=done&amp;style=none&amp;width=439" alt="image.png"><br><a name="jPROF"></a></p><h2 id="中断的作用"><a class="markdownIt-Anchor" href="#中断的作用"></a> 中断的作用</h2><p>CPU 上会运行两种程序，一种是操作系统内核程序，一种是应用程序，在合适的情况下，操作系统内核会把CPU的使用权主动让给应用程序，“中断”是让操作系统内核夺回CPU使用权的唯一途径。“中断”会使CPU由用户态变为内核态，使操作系统重新夺回对CPU的控制权。<br>如果没有“中断”机制，那么一旦应用程序上CPU运行，CPU就会一直运行这个应用程序。<br><a name="9GEuQ"></a></p><h2 id="中断的类型"><a class="markdownIt-Anchor" href="#中断的类型"></a> 中断的类型</h2><p>中断分为内中断和外中断：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181099478-eece4f77-2e81-4c4a-a1fc-41dd6aa898da.png#align=left&amp;display=inline&amp;height=368&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=434&amp;originWidth=965&amp;size=202795&amp;status=done&amp;style=none&amp;width=818" alt="image.png"><br><a name="u2FrS"></a></p><h3 id="内中断"><a class="markdownIt-Anchor" href="#内中断"></a> 内中断</h3><p>与当前执行的指令有关， 中断信号来源于CPU内部。<br>若当前执行的指令是非法的，则会引发一个中断信号，比如：试图在用户态下执行特权指令、执行除法指令时发现除数为 0、有时候应用程序想请求操作系统内核的服务，此时会执行一条特殊的指令——陷入指令，该指令会引发一个内部中断信号。<br><a name="Lr0gI"></a></p><h3 id="外中断"><a class="markdownIt-Anchor" href="#外中断"></a> 外中断</h3><p>与当前执行的指令无关， 中断信号来源于CPU外部。每一条指令执行结束 时，CPU都会例行检查 是否有外中断信号。<br><a name="sKHsO"></a></p><h4 id="io中断"><a class="markdownIt-Anchor" href="#io中断"></a> IO中断</h4><p><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181010137-f1b74a79-8a97-4815-80d6-ed169e038972.png#align=left&amp;display=inline&amp;height=388&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=390&amp;originWidth=553&amp;size=143255&amp;status=done&amp;style=none&amp;width=550" alt="image.png"><br><a name="kSTT9"></a></p><h4 id="时钟中断"><a class="markdownIt-Anchor" href="#时钟中断"></a> 时钟中断</h4><p><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181072456-d6d48ecd-b445-4da5-8670-2bce668620cb.png#align=left&amp;display=inline&amp;height=343&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=423&amp;originWidth=533&amp;size=66688&amp;status=done&amp;style=none&amp;width=432" alt="image.png"><br><a name="51sgb"></a></p><h2 id="中断的原理"><a class="markdownIt-Anchor" href="#中断的原理"></a> 中断的原理</h2><p>不同的中断信号，需要用不同的中断处理程序来处理。当CPU检测到中断信号后，会根据中断信号的类型去查询“中断向量表”，以此来找到相应的中断处理程序在内存中的存放位置。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181189469-669b8f71-c98d-459e-a414-561940adef42.png#align=left&amp;display=inline&amp;height=315&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=364&amp;originWidth=788&amp;size=75291&amp;status=done&amp;style=none&amp;width=682" alt="image.png"><br>中断包含两个方向：核心态到用户态、用户态到核心态。<br>内核态–&gt;用户态：执行一条特权指令——修改PSW的标志位为“用户态”，这个动作意味着操作系统 将主动让出CPU使用权<br>用户态–&gt;内核态：由“中断”引发，硬件自动完成变态过程，触发中断信号意味着操作系统将强行夺回CPU的使用权<br><a name="mp9Il"></a></p><h1 id="系统调用"><a class="markdownIt-Anchor" href="#系统调用"></a> 系统调用</h1><p>由操作系统内核对共享资源进行统一的管理，并向上提供 “系统调用” ，用户进程想要使用打印机这种共享资源，只能通过系统 调用向操作系统内核发出请求。内核会对各个请求进行协调处理。<br><a name="D0ycv"></a></p><h2 id="什么是系统调用"><a class="markdownIt-Anchor" href="#什么是系统调用"></a> 什么是系统调用</h2><p>操作系统作为用户和计算机硬件之间的接口，需要向上提供一些简单易用的服务。主要包括命令接口和程序接口。其中，程序接口由一组系统调用组成。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181298661-2a91e7da-f11b-4b01-8081-b93a4ef5d6a2.png#align=left&amp;display=inline&amp;height=234&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=327&amp;originWidth=1167&amp;size=83358&amp;status=done&amp;style=none&amp;width=834" alt="image.png"><br>“系统调用”是操作系统提供给应用程序（程序员/编程人员）使用的接口，可以理解为一种可供应用程序调用的特殊函数，应用程序可以通过系统调用来请求获得操作系统内核的服务。<br><a name="WG6Up"></a></p><h2 id="系统调用与库函数的区别"><a class="markdownIt-Anchor" href="#系统调用与库函数的区别"></a> 系统调用与库函数的区别</h2><p>主要区别如下图：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181359923-1d46ee23-feeb-4f8b-94ca-d3eed6029cdc.png#align=left&amp;display=inline&amp;height=374&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=488&amp;originWidth=550&amp;size=33165&amp;status=done&amp;style=none&amp;width=422" alt="image.png"><br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181375726-de856762-07eb-4c29-9dd9-862e065d82d1.png#align=left&amp;display=inline&amp;height=192&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=272&amp;originWidth=637&amp;size=112750&amp;status=done&amp;style=none&amp;width=449" alt="image.png"><br><a name="2etOp"></a></p><h2 id="什么功能要用到系统调用"><a class="markdownIt-Anchor" href="#什么功能要用到系统调用"></a> 什么功能要用到系统调用</h2><p>应用程序通过系统调用请求操作系统的服务。而系统中的各种共享资源都由操作系统内核统一掌管，因此凡是 与共享资源有关的操作（如存储分配、I/O操作、文件管理等），都必须通过系统调用的方式向操作系统内核提出服务请求，由操作系统内核代为完成。这样可以保证系统的稳定性和安全性，防止用户进行非法操作。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181464326-3f4c79fc-9903-4aff-a13c-6263160ab9a5.png#align=left&amp;display=inline&amp;height=197&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=325&amp;originWidth=1131&amp;size=167097&amp;status=done&amp;style=none&amp;width=687" alt="image.png"><br><a name="y571l"></a></p><h2 id="系统调用的过程"><a class="markdownIt-Anchor" href="#系统调用的过程"></a> 系统调用的过程</h2><p>传递系统调用参数–&gt;执行陷入指令（用户态）—&gt;执行相应的内请求核程序处理系统调用（核心态）–&gt; 返回应用程序 。<br>注意：</p><ul><li>陷入指令是在用户态执行的，执行陷入指令之后立即引发一个内中断，使CPU进入核心态</li><li>发出系统调用请求是在用户态，而对系统调用的相应处理在核心态下进行</li></ul><p><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181597986-48a4b5fe-4cc4-4de5-95c9-145b1add9592.png#align=left&amp;display=inline&amp;height=273&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=476&amp;originWidth=1162&amp;size=208167&amp;status=done&amp;style=none&amp;width=667" alt="image.png"><br><a name="JnVgt"></a></p><h1 id="操作系统的体系结构"><a class="markdownIt-Anchor" href="#操作系统的体系结构"></a> 操作系统的体系结构</h1><p>前面有提及过操作系统的体系内核结构分为大内核和微内核：<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181723949-7f7bc9d5-f14c-4ccb-b8a1-9c31ba4ed6c4.png#align=left&amp;display=inline&amp;height=381&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=418&amp;originWidth=924&amp;size=131867&amp;status=done&amp;style=none&amp;width=842" alt="image.png"><br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181790689-a3cd195a-6618-4595-980d-dd89551a50e0.png#align=left&amp;display=inline&amp;height=381&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=420&amp;originWidth=891&amp;size=96156&amp;status=done&amp;style=none&amp;width=809" alt="image.png"><br>内核是操作系统最基本、最核心的部分。 实现操作系统内核功能的那些程序就是内核程序。<br><img src="./img/loading.gif" data-original="https://cdn.nlark.com/yuque/0/2020/png/485026/1599181841028-98fea65c-3d80-43ff-9b92-90353aba90f0.png#align=left&amp;display=inline&amp;height=388&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=464&amp;originWidth=947&amp;size=156354&amp;status=done&amp;style=none&amp;width=792" alt="image.png"><br><br><br></p></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined">Zhang Junjie</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://jie-blog.icu/posts/operating_system_menu/">https://jie-blog.icu/posts/operating_system_menu/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jie-blog.icu" target="_blank">Jieker's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f4e5a0be7fabc7b" async="async"></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="./img/loading.gif" data-original="/img/wechat.png" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="./img/loading.gif" data-original="/img/alipay.jpg" alt="alipay"></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/operating_system_process/"><img class="prev-cover" src="./img/loading.gif" data-original="https://jie-blog.icu/img/Operating_System/system.png" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">操作系统之进程</div></div></a></div><div class="next-post pull-right"><a href="/posts/io_web_3/"><img class="next-cover" src="./img/loading.gif" data-original="https://jie-blog.icu/img/io/web.png" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">搭建WEB服务器（三）</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></article></main><footer id="footer" style="background-image:url(https://jie-blog.icu/img/Operating_System/system.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020<i id="heartbeat" class="fa fas fa-heartbeat"></i> Zhang Junjie</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">welcome to my <a href="https://jie-blog.icu/">blog</a>!</div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49b1f5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    window.valine = new Valine({
      el: '#vcomment',
      appId: 'XOcW2XseURBSH0ajeHVGv0iN-gzGzoHsz',
      appKey: 'iJPxPr2bJjhcx7m3zC49NyQC',
      placeholder: '記得留下你的暱稱和郵箱....可以快速收到回復',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    });
    if ('nick,mail') { valine.config.requiredFields= 'nick,mail'.split(',') }
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks"></canvas><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,document.body.addEventListener("input",POWERMODE)</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  'meta[name=description]',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  $('script[data-pjax]').each(function () {
    $(this).parent().append($(this).remove())
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})


document.addEventListener('pjax:send', function () {
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  $(window).off('scroll')

  //reset readmode
  $('body').hasClass('read-mode') && $('body').removeClass('read-mode')

})</script></div><script>window.imageLazyLoadSetting={isSPA:!1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)void 0,0<=(t=r[a].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight+240||document.documentElement.clientHeight+240)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e()},n.src=i}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/",tagMode:!1})</script></body></html>